{"version":3,"sources":["components/RichTextEditor.js","App.js","serviceWorker.js","index.js"],"names":["RichTextEditor","props","highlightCallBack","document","querySelectorAll","forEach","block","hljs","highlightBlock","state","editorState","EditorState","createEmpty","editorRef","React","createRef","focus","current","onChange","setState","handleKeyCommand","_handleKeyCommand","bind","mapKeyToEditorCommand","_mapKeyToEditorCommand","toggleBlockType","_toggleBlockType","toggleInlineStyle","_toggleInlineStyle","this","command","newState","RichUtils","e","keyCode","getDefaultKeyBinding","newEditorState","onTab","blockType","inlineStyle","contentState","getCurrentContent","editorContentRaw","convertToRaw","console","log","DBDeleteRequest","window","indexedDB","deleteDatabase","onerror","event","onsuccess","result","request","open","alert","onupgradeneeded","objectStore","target","createObjectStore","keyPath","autoIncrement","createIndex","unique","i","blocks","length","put","db","dbReq","req","transaction","openCursor","allTeX","cursor","offset","someTeX","value","oSort","someTeXInlineStyleSort","inlineStyleRanges","o","push","sort","a","b","item","texMap","type","text","x","p","q","style","slice","continue","tex","listHTML","note","getElementById","innerHTML","displayTeX","errorCode","getAndDisplaysTeX","className","hasText","getBlockMap","first","getType","onClick","_onDB","_toTeX","onToggle","blockStyleFn","getBlockStyle","customStyleMap","styleMap","keyBindingFn","placeholder","ref","spellCheck","id","Component","CODE","backgroundColor","fontFamily","fontSize","padding","StyleButton","preventDefault","active","onMouseDown","label","BLOCK_TYPES","BlockStyleControls","selection","getSelection","getBlockForKey","getStartKey","map","key","INLINE_STYLES","InlineStyleControls","currentStyle","getCurrentInlineStyle","has","App","Boolean","location","hostname","match","ReactDOM","render","StrictMode","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.0ac4586f.chunk.js","sourcesContent":["import React from 'react';\nimport {Editor, EditorState, getDefaultKeyBinding, RichUtils, convertToRaw} from 'draft-js';\nimport './RichTextEditor.css';\nimport '../../node_modules/draft-js/dist/Draft.css';\nimport hljs from 'highlight.js'\nimport 'highlight.js/styles/monokai.css'\n\nclass RichTextEditor extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {editorState: EditorState.createEmpty()};\n\t\tthis.editorRef = React.createRef();\n\t\tthis.focus = () => this.editorRef.current.focus();\n\t\tthis.onChange = (editorState) => this.setState({editorState});\n\n\t\tthis.handleKeyCommand = this._handleKeyCommand.bind(this);\n\t\tthis.mapKeyToEditorCommand = this._mapKeyToEditorCommand.bind(this);\n\t\tthis.toggleBlockType = this._toggleBlockType.bind(this);\n\t\tthis.toggleInlineStyle = this._toggleInlineStyle.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.highlightCallBack()\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis.highlightCallBack()\n\t}\n\n\thighlightCallBack = () => {\n\t\tdocument.querySelectorAll('pre code')\n\t\t\t.forEach(block => hljs.highlightBlock(block))\n\t}\n\n\t_handleKeyCommand(command, editorState) {\n\t\tconst newState = RichUtils.handleKeyCommand(editorState, command);\n\t\tif (newState) {\n\t\t\tthis.onChange(newState);\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\t_mapKeyToEditorCommand(e) {\n\t\tif (e.keyCode === 9 /* TAB */) {\n\t\t\tconst newEditorState = RichUtils.onTab(\n\t\t\t\te,\n\t\t\t\tthis.state.editorState,\n\t\t\t\t4, /* maxDepth */\n\t\t\t);\n\t\t\tif (newEditorState !== this.state.editorState) {\n\t\t\t\tthis.onChange(newEditorState);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\treturn getDefaultKeyBinding(e);\n\t}\n\n\t_toggleBlockType(blockType) {\n\t\tthis.onChange(\n\t\t\tRichUtils.toggleBlockType(\n\t\t\t\tthis.state.editorState,\n\t\t\t\tblockType\n\t\t\t)\n\t\t);\n\t}\n\n\t_toggleInlineStyle(inlineStyle) {\n\t\tthis.onChange(\n\t\t\tRichUtils.toggleInlineStyle(\n\t\t\t\tthis.state.editorState,\n\t\t\t\tinlineStyle\n\t\t\t)\n\t\t);\n\t}\n\n\t_onDB() {\n\t\tconst contentState = this.state.editorState.getCurrentContent();\n\t\tconst editorContentRaw = convertToRaw(contentState);\n\t\tconsole.log(editorContentRaw);\n\t\tconst DB = 'test';\n\n\t\tlet DBDeleteRequest = window.indexedDB.deleteDatabase(DB);\n\n\t\tDBDeleteRequest.onerror = function (event) {\n\t\t\tconsole.log('Error deleting database.');\n\t\t};\n\n\t\tDBDeleteRequest.onsuccess = function (event) {\n\t\t\tconsole.log('Database deleted successfully');\n\t\t\tconsole.log(event.result);\n\t\t};\n\n\t\tlet request = window.indexedDB.open(DB, 1);\n\t\trequest.onerror = function (event) {\n\t\t\talert(\"Error opening the database\");\n\t\t};\n\n\t\trequest.onsuccess = function (event) {\n\t\t\tconsole.log('indexedDB request is successful');\n\t\t}\n\n\t\trequest.onupgradeneeded = function (event) {\n\t\t\tconst db = event.target.result;\n\t\t\tconst objectStore = db.createObjectStore(`contents`, {keyPath: \"order\", autoIncrement: true});\n\t\t\tobjectStore.createIndex(\"order\", \"order\", {unique: true});\n\t\t\tfor (let i = 0; i < editorContentRaw.blocks.length; i++) {\n\t\t\t\tobjectStore.put(editorContentRaw.blocks[i]);\n\t\t\t}\n\t\t};\n\t}\n\n\t_toTeX() {\n\t\tlet db, dbReq = indexedDB.open('test', 1);\n\n\t\tdbReq.onsuccess = function (event) {\n\t\t\tdb = event.target.result;\n\t\t\tconsole.log(\"open 'test' indexedDB successfully!!!\");\n\t\t\tgetAndDisplaysTeX(db);\n\t\t}\n\n\t\tdbReq.onerror = function (event) {\n\t\t\talert('error opening database ' + event.target.errorCode);\n\t\t}\n\n\t\tfunction getAndDisplaysTeX(db) {\n\t\t\tlet tx = db.transaction(['contents'], 'readonly');\n\t\t\tlet store = tx.objectStore('contents');\n\n\t\t\tlet req = store.openCursor();\n\t\t\tlet allTeX = [];\n\n\t\t\treq.onsuccess = function (event) {\n\t\t\t\tlet cursor = event.target.result;\n\t\t\t\tlet offset = 0;\n\n\t\t\t\tif (cursor != null) {\n\t\t\t\t\t// allTeX.push(cursor.value.text);\n\t\t\t\t\tlet someTeX = cursor.value;\n\t\t\t\t\t// console.log(someTeX);\n\t\t\t\t\tlet oSort = [], someTeXInlineStyleSort = [];\n\n\t\t\t\t\tfor (let i = 0; i < someTeX.inlineStyleRanges.length; i++) {\n\t\t\t\t\t\tlet o = someTeX.inlineStyleRanges[i].offset;\n\t\t\t\t\t\toSort.push(o);\n\t\t\t\t\t}\n\t\t\t\t\toSort.sort((a, b) => a - b);\n\n\t\t\t\t\tfor (let i = 0; i < oSort.length; i++) {\n\t\t\t\t\t\tfor (let item in someTeX.inlineStyleRanges) {\n\t\t\t\t\t\t\tif (someTeX.inlineStyleRanges[item].offset === oSort[i]) {\n\t\t\t\t\t\t\t\tsomeTeXInlineStyleSort.push(someTeX.inlineStyleRanges[item]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (someTeX.inlineStyleRanges.length === 0) {\n\t\t\t\t\t\tallTeX.push(texMap[someTeX.type] + '{' + someTeX.text + '}<br/>');\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// TODO leetcode-like problem\n\n\t\t\t\t\t\tfor (let i = 0; i < someTeXInlineStyleSort.length; i++) {\n\t\t\t\t\t\t\tlet x = oSort[i];\n\t\t\t\t\t\t\tlet p = someTeXInlineStyleSort[i].length;\n\t\t\t\t\t\t\tlet q = someTeXInlineStyleSort[i].style;\n\n\t\t\t\t\t\t\tif (i === 0) {\n\t\t\t\t\t\t\t\tallTeX.push(someTeX.text.slice(0, x));\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tallTeX.push(someTeX.text.slice(offset+1, x));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tallTeX.push(texMap[q] + '{' + someTeX.text.slice(x, x+p) + '}');\n\n\t\t\t\t\t\t\tif (i === someTeXInlineStyleSort.length-1) {\n\t\t\t\t\t\t\t\tallTeX.push(someTeX.text.slice(-(someTeX.text.length - x - p)) + '<br/>');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\toffset = x;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\tcursor.continue();\n\t\t\t\t} else {\n\t\t\t\t\tdisplayTeX(allTeX);\n\t\t\t\t}\n\t\t}\n\n\t\treq.onerror = function (event) {\n\t\t\talert('error in cursor request ' + event.target.errorCode);\n\t\t}\n\t}\n\n\tfunction displayTeX(tex) {\n\t\tlet listHTML = '<pre><code class=\"latex\">';\n\t\tfor (let i = 0; i < tex.length; i++) {\n\t\t\tlet note = tex[i];\n\t\t\tlistHTML += note;\n\t\t}\n\t\tlistHTML += '</code></pre>';\n\t\tdocument.getElementById('tex').innerHTML = listHTML;\n\t}\n}\n\n  render() {\n    const {editorState} = this.state;\n\n\t// If the user changes block type before entering any text, we can\n\t// either style the placeholder or hide it. Let's just hide it now.\n\tlet className = 'RichEditor-editor';\n\tlet contentState = editorState.getCurrentContent();\n\tif (!contentState.hasText()) {\n\t\tif (contentState.getBlockMap().first().getType() !== 'unstyled') {\n\t\t\tclassName += ' RichEditor-hidePlaceholder';\n\t\t}\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<div className=\"RichEditor-root\">\n\t\t\t\t<button onClick={this._onDB.bind(this)}>Save</button>&nbsp;\n\t\t\t\t<button onClick={this._toTeX.bind(this)}>Display</button>\n\t\t\t\t<BlockStyleControls\n\t\t\t\t\teditorState={editorState}\n\t\t\t\t\tonToggle={this.toggleBlockType}\n\t\t\t\t/>\n\t\t\t\t<InlineStyleControls\n\t\t\t\t\teditorState={editorState}\n\t\t\t\t\tonToggle={this.toggleInlineStyle}\n\t\t\t\t/>\n\t\t\t\t<div className={className} onClick={this.focus}>\n\t\t\t\t\t<Editor\n\t\t\t\t\t\tblockStyleFn={getBlockStyle}\n\t\t\t\t\t\tcustomStyleMap={styleMap}\n\t\t\t\t\t\teditorState={editorState}\n\t\t\t\t\t\thandleKeyCommand={this.handleKeyCommand}\n\t\t\t\t\t\tkeyBindingFn={this.mapKeyToEditorCommand}\n\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\tplaceholder=\"Tell a story...\"\n\t\t\t\t\t\tref={this.editorRef}\n\t\t\t\t\t\tspellCheck={true}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tid='tex'\n\t\t\t></div>\n\t\t</div>\n\t);\n}\n}\n\nconst texMap = {\n\t'header-one': '\\\\section',\n\t'header-two': '\\\\subsection',\n\t'header-three': '\\\\subsubsection',\n\t'header-four': '\\\\subsubsubsection',\n\t'BOLD': '\\\\textbf',\n\t'ITALIC': '\\\\textit',\n};\n\n// Custom overrides for \"code\" style.\nconst styleMap = {\n\tCODE: {\n\t\tbackgroundColor: 'rgba(0, 0, 0, 0.05)',\n\t\tfontFamily: '\"Inconsolata\", \"Menlo\", \"Consolas\", monospace',\n\t\tfontSize: 16,\n\t\tpadding: 2,\n\t},\n};\n\nfunction getBlockStyle(block) {\n\tswitch (block.getType()) {\n\t\tcase 'blockquote':\n\t\t\treturn 'RichEditor-blockquote';\n\t\tdefault:\n\t\t\treturn null;\n\t}\n}\n\nclass StyleButton extends React.Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.onToggle = (e) => {\n\t\t\te.preventDefault();\n\t\t\tthis.props.onToggle(this.props.style);\n\t\t};\n\t}\n\n\trender() {\n\t\tlet className = 'RichEditor-styleButton';\n\t\tif (this.props.active) {\n\t\t\tclassName += ' RichEditor-activeButton';\n\t\t}\n\n\t\treturn (\n\t\t\t<span className={className} onMouseDown={this.onToggle}>\n        {this.props.label}\n      </span>\n\t\t);\n\t}\n}\n\nconst BLOCK_TYPES = [\n\t{label: 'H1', style: 'header-one'},\n\t{label: 'H2', style: 'header-two'},\n\t{label: 'H3', style: 'header-three'},\n\t{label: 'H4', style: 'header-four'},\n\t// {label: 'H5', style: 'header-five'},\n\t// {label: 'H6', style: 'header-six'},\n\t// {label: 'Blockquote', style: 'blockquote'},\n\t// {label: 'UL', style: 'unordered-list-item'},\n\t// {label: 'OL', style: 'ordered-list-item'},\n\t// {label: 'Code Block', style: 'code-block'},\n];\n\nconst BlockStyleControls = (props) => {\n\tconst {editorState} = props;\n\tconst selection = editorState.getSelection();\n\tconst blockType = editorState\n\t\t.getCurrentContent()\n\t\t.getBlockForKey(selection.getStartKey())\n\t\t.getType();\n\n\treturn (\n\t\t<div className=\"RichEditor-controls\">\n\t\t\t{BLOCK_TYPES.map((type) =>\n\t\t\t\t<StyleButton\n\t\t\t\t\tkey={type.label}\n\t\t\t\t\tactive={type.style === blockType}\n\t\t\t\t\tlabel={type.label}\n\t\t\t\t\tonToggle={props.onToggle}\n\t\t\t\t\tstyle={type.style}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nconst INLINE_STYLES = [\n\t{label: 'Bold', style: 'BOLD'},\n\t{label: 'Italic', style: 'ITALIC'},\n\t// {label: 'Underline', style: 'UNDERLINE'},\n\t// {label: 'Monospace', style: 'CODE'},\n];\n\nconst InlineStyleControls = (props) => {\n\tconst currentStyle = props.editorState.getCurrentInlineStyle();\n\n\treturn (\n\t\t<div className=\"RichEditor-controls\">\n\t\t\t{INLINE_STYLES.map((type) =>\n\t\t\t\t<StyleButton\n\t\t\t\t\tkey={type.label}\n\t\t\t\t\tactive={currentStyle.has(type.style)}\n\t\t\t\t\tlabel={type.label}\n\t\t\t\t\tonToggle={props.onToggle}\n\t\t\t\t\tstyle={type.style}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default RichTextEditor;","import React from 'react';\nimport './App.css';\nimport RichTextEditor from './components/RichTextEditor';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <RichTextEditor />\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}